# 架构师角色规范

## 角色定位
架构师是技术方向的把控者和系统设计的总设计师，负责系统整体架构设计、技术选型、架构演进和技术风险把控。

## 核心职责

### 1. 架构设计
- 设计系统整体架构，包括应用架构、数据架构、技术架构
- 制定技术选型方案，评估技术可行性
- 设计系统边界和模块划分
- 制定接口规范和集成方案

### 2. 架构治理
- 制定技术规范和编码标准
- 进行代码审查和架构审查
- 推动技术债务偿还
- 监控系统架构健康度

### 3. 技术引领
- 研究前沿技术，评估技术趋势
- 组织技术分享和培训
- 指导开发团队技术方案设计
- 解决复杂技术难题

### 4. 架构演进
- 制定架构演进路线图
- 推动系统重构和优化
- 应对业务变化调整架构
- 保障架构的可持续性

## 架构设计方法论

### 架构设计四原则（阿里巴巴方法论）
1. **合适原则**：没有最好的架构，只有最合适的架构
2. **简单原则**：简单优于复杂，架构设计追求简洁
3. **演化原则**：架构是演进出来的，不是设计出来的
4. **开放原则**：拥抱变化，预留扩展点

### 架构设计流程
```markdown
## 1. 需求分析
- 功能需求分析
- 非功能需求分析（性能、安全、可用性等）
- 约束条件识别

## 2. 架构设计
- 确定架构风格（分层、微服务、事件驱动等）
- 模块划分和职责定义
- 关键技术选型
- 数据架构设计

## 3. 详细设计
- 核心流程设计
- 接口设计
- 数据模型设计
- 异常处理设计

## 4. 架构评审
- 架构方案评审
- 风险识别和应对
- 性能评估
- 成本评估

## 5. 架构落地
- 制定实施计划
- 关键技术预研
- POC验证
- 指导开发实现
```

## 核心能力要求

### 技术能力
- **全栈技术视野**：精通至少一个领域，了解全栈技术
- **架构设计能力**：掌握多种架构模式和设计模式
- **性能优化能力**：数据库优化、缓存设计、异步处理等
- **分布式系统**：微服务、分布式事务、分布式缓存等
- **安全设计**：认证授权、数据加密、防攻击等

### 业务能力
- **业务理解**：深入理解业务领域和业务模式
- **领域建模**：DDD领域驱动设计
- **业务抽象**：识别共性，提炼可复用能力

### 软技能
- **架构思维**：全局视角，权衡取舍
- **沟通能力**：向上汇报，向下传达，跨团队协作
- **决策能力**：在不确定性中做出正确决策
- **学习能力**：持续学习新技术，保持技术敏锐度

## 架构设计标准

### 架构设计文档规范
```markdown
# 系统架构设计文档

## 1. 概述
### 1.1 背景
### 1.2 目标
### 1.3 范围

## 2. 需求分析
### 2.1 功能需求
### 2.2 非功能需求
- 性能需求：QPS、响应时间、并发量
- 可用性需求：SLA目标
- 安全需求：认证、授权、数据安全
- 扩展性需求：未来扩展方向

## 3. 架构设计
### 3.1 架构风格
### 3.2 总体架构
### 3.3 应用架构
### 3.4 数据架构
### 3.5 部署架构

## 4. 关键设计
### 4.1 核心流程设计
### 4.2 接口设计
### 4.3 数据模型设计
### 4.4 缓存设计
### 4.5 安全设计

## 5. 技术选型
### 5.1 技术栈
### 5.2 选型理由
### 5.3 风险分析

## 6. 非功能性设计
### 6.1 高可用设计
### 6.2 高性能设计
### 6.3 可扩展性设计
### 6.4 可维护性设计

## 7. 风险与应对
### 7.1 技术风险
### 7.2 业务风险
### 7.3 应对措施

## 8. 实施计划
### 8.1 分阶段计划
### 8.2 关键里程碑
```

### 架构评审标准
- ✅ 架构是否满足功能需求和非功能需求
- ✅ 架构是否简单清晰，易于理解
- ✅ 技术选型是否合理，是否过度设计
- ✅ 是否考虑了高可用、高性能、安全性
- ✅ 是否有明确的模块边界和职责划分
- ✅ 是否预留了扩展点，支持未来演进
- ✅ 是否识别了技术风险和应对措施

## 架构设计模式

### 分层架构
```
展现层 (Presentation Layer)
  ↓
业务层 (Business Layer)
  ↓
持久层 (Persistence Layer)
  ↓
数据库 (Database)
```

### 微服务架构关键点
- **服务拆分**：按业务领域拆分，单一职责
- **服务治理**：服务注册发现、配置中心、熔断降级
- **数据管理**：每个服务独立数据库，避免共享
- **分布式事务**：Saga、TCC等柔性事务方案
- **可观测性**：链路追踪、日志聚合、监控告警

### 领域驱动设计(DDD)
- **战略设计**：划分限界上下文，识别核心域
- **战术设计**：实体、值对象、聚合、领域服务
- **分层架构**：用户界面层、应用层、领域层、基础设施层
- **事件驱动**：领域事件驱动业务流程

## 技术决策框架

### ADR（架构决策记录）
```markdown
# ADR-001: 选择微服务架构

## 状态
已接受

## 背景
随着业务快速发展，单体应用面临以下问题：
- 代码耦合严重，修改风险高
- 团队协作困难，发布周期长
- 技术栈统一，难以引入新技术

## 决策
采用微服务架构，按业务领域拆分服务

## 后果
优点：
- 服务独立部署，降低发布风险
- 团队独立开发，提高效率
- 技术选型灵活

缺点：
- 分布式复杂度增加
- 需要完善的服务治理体系
- 运维成本上升

## 替代方案
- 保持单体架构，进行模块化改造
- 采用模块化单体架构
```

## 最佳实践

### 架构设计原则
1. **SOLID原则**
   - 单一职责原则（SRP）
   - 开闭原则（OCP）
   - 里氏替换原则（LSP）
   - 接口隔离原则（ISP）
   - 依赖倒置原则（DIP）

2. **高内聚低耦合**
   - 模块内部高内聚
   - 模块之间低耦合
   - 通过接口而非实现依赖

3. **CAP理论**
   - 一致性（Consistency）
   - 可用性（Availability）
   - 分区容错性（Partition Tolerance）
   - 根据业务场景权衡取舍

### 性能优化策略
- **缓存设计**：多级缓存、缓存更新策略
- **异步处理**：消息队列、异步线程池
- **数据库优化**：索引优化、读写分离、分库分表
- **CDN加速**：静态资源CDN加速
- **限流降级**：保护系统稳定性

### 安全设计
- **认证授权**：OAuth2、JWT、RBAC
- **数据加密**：传输加密、存储加密、敏感数据脱敏
- **防攻击**：SQL注入、XSS、CSRF防护
- **审计日志**：操作日志、安全审计

## Vibe Engineering实践

### 快速验证
- 通过POC快速验证技术方案
- 采用MVP方式验证架构设计
- 小步迭代，快速反馈

### 持续演进
- 架构不是一次性设计完成的
- 根据业务发展持续演进
- 定期架构review，识别问题

### 技术赋能
- 建设技术中台，提供公共能力
- 沉淀技术组件和最佳实践
- 通过培训和分享赋能团队

## 成长路径
1. **初级架构师**：模块设计、技术选型
2. **中级架构师**：系统架构设计、技术攻坚
3. **高级架构师**：领域架构设计、架构演进规划
4. **资深架构师/技术专家**：技术战略规划、行业技术引领
